<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>البحث في الجدول الدوري للعناصر</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #4f46e5;
      --primary-gradient: linear-gradient(135deg, #6366f1, #8b5cf6);
      --dark: #1e293b;
      --danger: #ef4444;
      --border-radius: 16px;
      --box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }
    * { box-sizing: border-box; margin:0; padding:0; }
    body {
      font-family:'Segoe UI',sans-serif;
      background:linear-gradient(135deg,#dbeafe,#f3e8ff,#e0f2fe);
      min-height:100vh;
      display:flex;
      flex-direction:column;
      align-items:center;
      padding:20px;
      color:var(--dark);
    }
    .container { width:100%; max-width:800px; }
    header { text-align:center; margin-bottom:30px; }
    h1 { font-size:2.2rem; margin-bottom:10px; }

    .search-card {
      background:white;
      padding:30px;
      border-radius:var(--border-radius);
      box-shadow:var(--box-shadow);
      margin-bottom:30px;
    }

    .input-group { position:relative; margin-bottom:20px; }
    .search-input {
      width:100%;
      padding:16px 20px 16px 50px;
      border:2px solid #e2e8f0;
      border-radius:12px;
      font-size:1.1rem;
    }
    .search-icon {
      position:absolute;
      right:20px;
      top:50%;
      transform:translateY(-50%);
      color:#94a3b8;
      font-size:1.2rem;
    }
    .search-btn {
      width:100%;
      padding:16px;
      font-size:1.1rem;
      font-weight:600;
      background:var(--primary-gradient);
      border:none;
      color:white;
      border-radius:12px;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
    }

    .result-card {
      width:100%;
      padding:30px;
      border-radius:var(--border-radius);
      box-shadow:var(--box-shadow);
      min-height:200px;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .result-content {
      width:100%;
      white-space:pre-wrap;
      word-wrap:break-word;
      font-size:1.1rem;
      line-height:1.8;
    }

    .loading {
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:20px;
    }
    .spinner {
      width:50px;
      height:50px;
      border:5px solid rgba(99,102,241,0.2);
      border-radius:50%;
      border-top-color:var(--primary);
      animation:spin 1s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>البحث في الجدول الدوري للعناصر</h1>
    </header>

    <div class="search-card">
      <div class="input-group">
        <input type="text" id="searchInput" class="search-input" placeholder="اكتب اسم العنصر أو رمزه أو عدده الذري">
        <span class="search-icon"><i class="fas fa-pencil-alt"></i></span>
      </div>
      <button onclick="searchElement()" class="search-btn">
        <i class="fas fa-search"></i> بحث
      </button>
    </div>

    <div id="resultBox" class="result-card">
      <div class="result-content" style="text-align:center; color:#64748b;">
        <p>سيظهر هنا معلومات العنصر الكيميائي عند البحث</p>
      </div>
    </div>
  </div>

  <script>
    const apiKey = "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";

    async function searchElement() {
      const query = document.getElementById('searchInput').value.trim();
      const resultBox = document.getElementById('resultBox');

      if (!query) {
        resultBox.innerHTML = `<div class="result-content" style="text-align:center; color:${'var(--danger)'};">
          ⚠️ الرجاء إدخال اسم العنصر أو رمزه أو عدده الذري.
        </div>`;
        return;
      }

      resultBox.innerHTML = `<div class="loading">
        <div class="spinner"></div>
        <div>⏳ جاري البحث...</div>
      </div>`;

      try {
        const response = await fetch("https://openrouter.ai/api/v1/chat/completions", {
          method: "POST",
          headers: {
            "Authorization": `Bearer ${apiKey}`,
            "Content-Type": "application/json",
            "HTTP-Referer": "https://example.com",  // ضع هنا رابط موقعك الحقيقي
            "X-Title": "AI Periodic Table"
          },
          body: JSON.stringify({
            model: "deepseek/deepseek-chat-v3.1:free",
            messages: [
              {
                role: "system",
                content: "أنت خبير في الكيمياء. قدم شرحًا مبسطًا ودقيقًا لكل عنصر كيميائي باللغة العربية."
              },
              {
                role: "user",
                content: query
              }
            ],
            temperature: 0.7,
            max_tokens: 300
          })
        });

        const data = await response.json();
        console.log(data); // لفحص الرد في أدوات المطور

        if (data.error) {
          resultBox.innerHTML = `<div class="result-content" style="color:var(--danger);">
            ❌ خطأ: ${data.error.message}
          </div>`;
          return;
        }

        const answer = data.choices?.[0]?.message?.content || "⚠️ لم يتم العثور على معلومات عن هذا العنصر.";
        resultBox.innerHTML = `<div class="result-content">${answer}</div>`;

      } catch (err) {
        console.error(err);
        resultBox.innerHTML = `<div class="result-content" style="color:var(--danger);">
          ❌ حدث خطأ أثناء الاتصال بالخادم.
        </div>`;
      }
    }

    document.getElementById('searchInput').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') searchElement();
    });
  </script>
</body>
</html>
